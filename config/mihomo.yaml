### å…¨å±€é…ç½®
mixed-port: 7890 # HTTP(S) + SOCKS æ··åˆä»£ç†ç«¯å£ï¼ŒClash ä¸»ä»£ç†å…¥å£
allow-lan: true # å…è®¸å±€åŸŸç½‘è®¾å¤‡è¿æ¥æœ¬æœºä»£ç†
mode: rule # ä»£ç†æ¨¡å¼ï¼Œä½¿ç”¨è§„åˆ™åˆ†æµ
bind-address: "*" # ç»‘å®šæ‰€æœ‰ç½‘å¡åœ°å€ï¼Œä½¿å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡å¯è®¿é—®
ipv6: false # ç¦ç”¨ IPv6ï¼Œé˜²æ­¢ DNS æ³„éœ²åŠè®¿é—®å¼‚å¸¸
log-level: debug # æ—¥å¿—ç­‰çº§ï¼Œè°ƒè¯•æ—¶æ¨èè®¾ç½®ä¸º debug
profile:
  store-selected: true # è®°ä½ä¸Šæ¬¡é€‰æ‹©çš„èŠ‚ç‚¹æˆ–ç­–ç•¥
  store-fake-ip: true # è®°ä½ fake-ip æ˜ å°„å…³ç³»ï¼Œæå‡å‘½ä¸­ç‡
unified-delay: true # å¯ç”¨ç»Ÿä¸€å»¶è¿Ÿè®¡ç®—
tcp-concurrent: true # TCP å¹¶å‘è¿æ¥ï¼Œæå‡è¿æ¥é€Ÿåº¦
global-client-fingerprint: chrome # å…¨å±€é»˜è®¤æµè§ˆå™¨æŒ‡çº¹ï¼Œç”¨äºæ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è¡Œä¸º

### DNS é…ç½®
dns:
  enable: true # å¯ç”¨å†…ç½® DNS æœåŠ¡å™¨
  prefer-h3: true # ä¼˜å…ˆä½¿ç”¨ HTTP/3ï¼ˆQUICï¼‰åè®®è§£æ DNS è¯·æ±‚
  ipv6: false # ä¸è§£æ AAAA è®°å½•ï¼Œé¿å…èµ° IPv6
  enhanced-mode: fake-ip # ä½¿ç”¨ fake-ip æ¨¡å¼ï¼Œé˜²æ­¢ DNS æ³„éœ²
  fake-ip-range: 198.18.0.1/16 # ç”¨äº fake-ip æ˜ å°„çš„ IP æ®µï¼ˆä¿ç•™åœ°å€æ®µï¼‰
  fake-ip-filter: # fake-ip æ’é™¤åˆ—è¡¨ï¼Œè¿™äº›åŸŸåå°†ä½¿ç”¨çœŸå® IP è§£æï¼Œé˜²æ­¢åŠŸèƒ½å¼‚å¸¸
    - +.+m2m
    - +.$injections.adguard.org
    - +.$local.adguard.org
    - +.+bogon
    - +.+lan
    - +.+local
    - +.+localdomain
    - +.home.arpa
    - dns.msftncsi.com
    - "*.srv.nintendo.net"
    - "*.stun.playstation.net"
    - xbox.*.microsoft.com
    - "*.xboxlive.com"
    - "*.turn.twilio.com"
    - "*.stun.twilio.com"
    - stun.syncthing.net
    - stun.*
    - "*.sslip.io"
    - "*.nip.io"
  respect-rules: true # DNS æŸ¥è¯¢ä¹ŸæŒ‰ Clash è§„åˆ™å¤„ç†
  nameserver: # ç›´è¿ä½¿ç”¨çš„ DNS æœåŠ¡å™¨ï¼ˆDoHï¼‰
    - https://223.5.5.5/dns-query # é˜¿é‡Œå…¬å…± DNS
    - https://doh.pub/dns-query # è…¾è®¯å…¬å…± DNS
  proxy-server-nameserver: # è¢«è§„åˆ™åˆ¤æ–­ä¸ºèµ°ä»£ç†çš„åŸŸåä½¿ç”¨æ­¤å¤„ DNS
    - https://1.1.1.1/dns-query # Cloudflare DoH
    - https://8.8.8.8/dns-query # Google DoH

proxies:
  - { name: "ğŸ‡¯ğŸ‡µæ—¥æœ¬claw",xx}
  - { name: "ğŸ‡ºğŸ‡¸ç¾å›½dmit",xx}

### å‡ºç«™ç­–ç•¥é”šç‚¹ï¼ˆç”¨äºå¤ç”¨ï¼‰
pr: &pr { type: select, proxies: [ ğŸš€ èŠ‚ç‚¹é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡¯ğŸ‡µæ—¥æœ¬claw, ğŸ‡ºğŸ‡¸ç¾å›½dmit, ğŸ¯ å…¨çƒç›´è¿ ] }

### ä»£ç†ç»„å®šä¹‰
proxy-groups:
  - { name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡¯ğŸ‡µæ—¥æœ¬claw, ğŸ‡ºğŸ‡¸ç¾å›½dmit ] }
  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "^((?!(ğŸ¯ å…¨çƒç›´è¿)).)*$" }
  - { name: ğŸ“¹ YouTube, <<: *pr }
  - { name: ğŸ€ Google, <<: *pr }
  - { name: ğŸ¤– AI, <<: *pr }
  - { name: ğŸ§° GitHub, <<: *pr }
  - { name: â“‚ï¸ Microsoft, <<: *pr }
  - { name: ğŸ“² Telegram, <<: *pr }
  - { name: ğŸ¥ NETFLIX, <<: *pr }
  - { name: âœˆï¸ Speedtest, <<: *pr }
  - { name: ğŸ Apple, <<: *pr }
  - { name: ğŸŸ æ¼ç½‘ä¹‹é±¼, <<: *pr }
  - { name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [ DIRECT ] }


### åˆ†æµè§„åˆ™
rules:
  - RULE-SET,private_domain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,apple_domain,ğŸ Apple
  - RULE-SET,ai,ğŸ¤– AI
  - RULE-SET,github_domain,ğŸ§° GitHub
  - RULE-SET,youtube_domain,ğŸ“¹ YouTube
  - RULE-SET,google_domain,ğŸ€ Google
  - RULE-SET,microsoft_domain,â“‚ï¸ Microsoft
  - RULE-SET,speedtest_domain,âœˆï¸ Speedtest
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,netflix_domain,ğŸ¥ NETFLIX
  - RULE-SET,gfw_domain,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,geolocation-!cn,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,cn_domain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,google_ip,ğŸ€ Google,no-resolve
  - RULE-SET,netflix_ip,ğŸ¥ NETFLIX,no-resolve
  - RULE-SET,telegram_ip,ğŸ“² Telegram,no-resolve
  - RULE-SET,cn_ip,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,lan_ip,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

### è§„åˆ™é”šç‚¹
rule-anchor:
  ip: &ip { type: http, interval: 86400, behavior: ipcidr, format: mrs }
  domain: &domain { type: http, interval: 86400, behavior: domain, format: mrs }
  class: &class { type: http, interval: 86400, behavior: classical, format: text }

### å¤–éƒ¨è§„åˆ™åˆ—è¡¨
rule-providers:
  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs" }
  ai: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-!cn.mrs" }
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs" }
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs" }
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs" }
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs" }
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs" }
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs" }
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs" }
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs" }
  gfw_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs" }
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs" }
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs" }

  lan_ip: { <<: *class, url: 'https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Lan/Lan.yaml'}
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs" }
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs" }
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs" }
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs" }
